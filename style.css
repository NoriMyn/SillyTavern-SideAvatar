/* =================================================
   ОСНОВА ЧАТА — ПОЛНАЯ ШИРИНА
================================================= */

#chat {
    width: 100% !important;
    max-width: 100% !important;
    padding-right: 0 !important;
}

#chat .mes_container {
    width: 100% !important;
    max-width: 100% !important;
}

/* =================================================
   СООБЩЕНИЕ
================================================= */

.mes {
    display: flex !important;
    align-items: flex-start !important;
    gap: 0 !important;
    width: 100% !important;
    max-width: 100% !important;
}

/* =================================================
   АВАТАР — СЛИЯНИЕ С ЧАТОМ
================================================= */

.mesAvatarWrapper {
    flex-shrink: 0 !important;
    overflow: visible !important;
}

.mes .avatar {
    width: 160px !important;
    min-width: 160px !important;
    margin-top: 6px !important;
    margin-right: -70px !important; /* ГЛУБОКИЙ ЗАЕЗД ПОД ТЕКСТ */
    background: transparent !important;
    box-shadow: none !important;
    z-index: 0 !important;
}

.mes .avatar img {
    width: 100% !important;
    height: auto !important;
    object-fit: contain !important;

    border-radius: 0 !important;
    box-shadow: none !important;

    filter: saturate(0.95) contrast(1.03) !important;

    /* МЯГКОЕ РАСТВОРЕНИЕ БЕЗ ЖЁСТКОЙ ГРАНИ */
    -webkit-mask-image: radial-gradient(
        ellipse at right center,
        rgba(0,0,0,1) 0%,
        rgba(0,0,0,1) 55%,
        rgba(0,0,0,0.7) 70%,
        rgba(0,0,0,0.3) 82%,
        rgba(0,0,0,0) 100%
    );
    mask-image: radial-gradient(
        ellipse at right center,
        rgba(0,0,0,1) 0%,
        rgba(0,0,0,1) 55%,
        rgba(0,0,0,0.7) 70%,
        rgba(0,0,0,0.3) 82%,
        rgba(0,0,0,0) 100%
    );
}

/* =================================================
   ТЕКСТ — ПЛАВНОЕ НАЛОЖЕНИЕ НА АВАТАР
================================================= */

.mes_block {
    position: relative !important;
    z-index: 1 !important;

    width: 100% !important;
    max-width: none !important;

    padding: 18px 22px 18px 85px !important;

    background: linear-gradient(
        to right,
        rgba(10,10,10,0.0) 0%,
        rgba(10,10,10,0.25) 18%,
        rgba(10,10,10,0.55) 40%,
        rgba(10,10,10,0.65) 100%
    ) !important;

    backdrop-filter: blur(6px) !important;
    border-radius: 14px !important;
}

/* =================================================
   ФИКСЫ — НИКАКИХ ОБРЕЗАНИЙ И ЗАЗОРОВ
================================================= */

.mes,
.mes_block,
.mes .avatar,
.mes .avatar img {
    max-height: none !important;
    clip-path: none !important;
    overflow: visible !important;
}

/* Убираем лишний зазор справа от прокрутки */
#chat::-webkit-scrollbar-track {
    margin-right: 0 !important;
}
