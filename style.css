/* Side Avatar - Аватарка сливается с текстом (стиль Echo) */

#chat .mes:not(.mes_user) {
    display: block;
    position: relative;
    padding: 0;
    margin-bottom: 20px;
}

#chat .mes:not(.mes_user) .mes_block {
    display: block;
    padding: 0;
    background-color: transparent !important;
    box-shadow: none !important;
}

#chat .mes:not(.mes_user) .mes_text {
    position: relative;
    display: block;
    min-height: 250px;
    padding: 15px 20px 15px 30%;
    border-radius: 10px;
    background-color: var(--SmartThemeBotMesBlurTintColor, rgba(20, 20, 30, 0.6));
    overflow: hidden;
}

/* Аватарка как фон с градиентом */
#chat .mes:not(.mes_user) .mes_text::before {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    width: 30%;
    height: 100%;
    background: var(--mes-avatar-url) center no-repeat;
    background-size: cover;
    -webkit-mask-image:
        linear-gradient(to left, rgba(0,0,0,0), rgba(0,0,0,1) 0%),
        linear-gradient(to right, rgba(0,0,0,0), rgba(0,0,0,1) 30%),
        linear-gradient(to bottom, rgba(0,0,0,0), rgba(0,0,0,1) 0%),
        linear-gradient(to top, rgba(0,0,0,0), rgba(0,0,0,1) 40%);
    mask-image:
        linear-gradient(to left, rgba(0,0,0,0), rgba(0,0,0,1) 0%),
        linear-gradient(to right, rgba(0,0,0,0), rgba(0,0,0,1) 30%),
        linear-gradient(to bottom, rgba(0,0,0,0), rgba(0,0,0,1) 0%),
        linear-gradient(to top, rgba(0,0,0,0), rgba(0,0,0,1) 40%);
    -webkit-mask-composite: destination-in;
    mask-composite: intersect;
    border-radius: 0 10px 10px 0;
    z-index: 0;
}

/* Текст поверх фона */
#chat .mes:not(.mes_user) .mes_text > * {
    position: relative;
    z-index: 1;
}

/* Адаптив */
@media (max-width: 1024px) {
    #chat .mes:not(.mes_user) .mes_text {
        padding: 15px 20px 15px 35%;
        min-height: 200px;
    }
    #chat .mes:not(.mes_user) .mes_text::before {
        width: 35%;
    }
}

@media (max-width: 768px) {
    #chat .mes:not(.mes_user) .mes_text {
        padding: 15px;
        min-height: 150px;
    }
    #chat .mes:not(.mes_user) .mes_text::before {
        display: none;
    }
}
